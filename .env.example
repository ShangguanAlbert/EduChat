# =========================
# Provider Keys
# =========================
# OpenRouter (推荐)
OPENROUTER_API_KEY=your_openrouter_api_key
# 兼容变量名（二选一即可）
# OPEN_ROUTER_API_KEY=your_openrouter_api_key
# OPENAI_API_KEY=your_openrouter_api_key

# 阿里云（DashScope 兼容）
ALIYUN_API_KEY=your_aliyun_api_key
# 兼容变量名
# DASHSCOPE_API_KEY=your_aliyun_api_key

# 火山引擎（Ark）
VOLCENGINE_API_KEY=your_volcengine_api_key
# 兼容变量名
# ARK_API_KEY=your_volcengine_api_key

# 火山引擎图片生成（Seedream 4.5，独立 Key）
VOLCENGINE_IMAGE_API_KEY=your_volcengine_image_api_key
# 兼容变量名（二选一即可）
# VOLCENGINE_SEEDREAM_API_KEY=your_volcengine_image_api_key
# ARK_IMAGE_API_KEY=your_volcengine_image_api_key

# =========================
# Provider Endpoints
# =========================
OPENROUTER_CHAT_ENDPOINT=https://openrouter.ai/api/v1/chat/completions
# 阿里云百炼（北京地域）
ALIYUN_CHAT_ENDPOINT=https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions
ALIYUN_RESPONSES_ENDPOINT=https://dashscope.aliyuncs.com/api/v2/apps/protocols/compatible-mode/v1/responses
ALIYUN_DASHSCOPE_ENDPOINT=https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
ALIYUN_DASHSCOPE_MULTIMODAL_ENDPOINT=https://dashscope.aliyuncs.com/api/v1/services/aigc/multimodal-generation/generation
# 火山引擎 Ark 侧仅使用 Responses API（chat/completions 不再使用）
# VOLCENGINE_CHAT_ENDPOINT=https://ark.cn-beijing.volces.com/api/v3/chat/completions
VOLCENGINE_RESPONSES_ENDPOINT=https://ark.cn-beijing.volces.com/api/v3/responses
# 火山引擎图片生成（Seedream 4.5）
VOLCENGINE_IMAGE_GENERATION_ENDPOINT=https://ark.cn-beijing.volces.com/api/v3/images/generations
VOLCENGINE_IMAGE_GENERATION_MODEL=doubao-seedream-4-5-251128
# 可选：覆盖联网搜索支持模型匹配（逗号分隔）
# VOLCENGINE_WEB_SEARCH_MODELS=doubao-seed-1-8-251228,deepseek-v3-2-251201,doubao-seed-1-6-251015,doubao-seed-1-6-thinking-250715,deepseek-v3-1-terminus,deepseek-v3-1-250821,kimi-k2-thinking-251104,kimi-k2-250905
# 可选：覆盖联网搜索里“支持深度思考联动”的模型（逗号分隔）
# VOLCENGINE_WEB_SEARCH_THINKING_MODELS=doubao-seed-1-8-251228,deepseek-v3-2-251201,doubao-seed-1-6-251015,doubao-seed-1-6-thinking-250715,deepseek-v3-1-terminus,deepseek-v3-1-250821,kimi-k2-thinking-251104

OPENROUTER_REFERER=http://localhost:5173
OPENROUTER_APP_NAME=EduChat
PORT=8787
MONGO_URI=mongodb://127.0.0.1:27017/educhat
AUTH_SECRET=Q+8dPYsyZfNiS5Aloqh9vPUaqxF9bBBhXLmCQDj4mKA=

# =========================
# Group Chat Butler (管家)
# =========================
GROUP_CHAT_BUTLER_ENABLED=true
GROUP_CHAT_BUTLER_AGENT_ID=D
GROUP_CHAT_BUTLER_REDIS_URL=redis://127.0.0.1:6379
GROUP_CHAT_BUTLER_QUEUE_NAME=group-chat-butler
GROUP_CHAT_BUTLER_TIMEOUT_MS=120000
GROUP_CHAT_BUTLER_JOB_ATTEMPTS=3
GROUP_CHAT_BUTLER_BACKOFF_MS=3000
GROUP_CHAT_BUTLER_CONCURRENCY=2
GROUP_CHAT_BUTLER_CONTEXT_LIMIT=30
GROUP_CHAT_BUTLER_MAX_FILES=1
GROUP_CHAT_BUTLER_RECENT_FILE_LOOKBACK_MS=3600000

# =========================
# Aliyun OSS
# 生产建议：Bucket 设为私有读写，通过签名 URL 下载
# =========================
ALIYUN_OSS_BUCKET=platform-data-sgfz
ALIYUN_OSS_REGION=oss-cn-hangzhou
ALIYUN_OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
# OSS 网络模式：
# - public：仅走公网（本地开发推荐）
# - internal_prefer：优先内网，超时自动回退公网（ECS 生产推荐）
# - internal_only：仅走内网，不回退公网
ALIYUN_OSS_NETWORK_MODE=public
ALIYUN_OSS_OBJECT_PREFIX=chat-files
ALIYUN_OSS_SIGNED_URL_TTL_SECONDS=300
ALIYUN_OSS_PUBLIC_READ=false
# 兼容旧配置：仅当 ALIYUN_OSS_NETWORK_MODE 未设置时生效
ALIYUN_OSS_INTERNAL=false
ALIYUN_OSS_SECURE=true
ALIYUN_OSS_STARTUP_CHECK_ENABLED=true
ALIYUN_OSS_STARTUP_WRITE_PROBE=true
ALIYUN_OSS_STARTUP_CHECK_TIMEOUT_MS=8000
ALIYUN_ACCESS_KEY_ID=your_aliyun_access_key_id
ALIYUN_ACCESS_KEY_SECRET=your_aliyun_access_key_secret

# =========================
# MongoDB (for docker-compose)
# docker-compose.yml will use these values to build container URI
# =========================
MONGO_DB_NAME=educhat
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=SfPuIUWP5Jol1aTse53nnYvU/FCqqtyCFbbCTVCdRVY=

# =========================
# Agent Provider + Model
# provider 可选: openrouter / aliyun / volcengine
# =========================
AGENT_PROVIDER_A=volcengine
AGENT_PROVIDER_B=volcengine
AGENT_PROVIDER_C=volcengine
AGENT_PROVIDER_D=aliyun

AGENT_MODEL_A=doubao-seed-1-6-251015
AGENT_MODEL_B=glm-4-7-251222
AGENT_MODEL_C=deepseek-v3-2-251201
AGENT_MODEL_D=qwen3.5-plus

# =========================
# Agent System Prompt
# ABCD 提示词由管理员后台写入 MongoDB；留空时回退 DEFAULT_SYSTEM_PROMPT
# =========================
DEFAULT_SYSTEM_PROMPT=你是用户的助手

# =========================
# API generation defaults
# =========================
DEFAULT_TEMPERATURE=0.6
DEFAULT_TOP_P=1
